{"version":3,"sources":["backend/InMemory.js"],"names":["define","key_value_filesystem","SimpleSyncRWTransaction","SyncKeyValueFileSystem","InMemoryStore","[object Object]","this","store","InMemoryFileSystem","Name","type","key","data","overwrite","hasOwnProperty","super","options","cb","Options"],"mappings":";;;;;;;AAAAA,QAAQ,mCAAoC,SAAUC,GAClD,aAEA,MAAMC,wBAAEA,EAAuBC,uBAAEA,GAA2BF,QAItDG,EACFC,cACIC,KAAKC,SAETF,OAAS,OAAOG,EAAmBC,KACnCJ,QAAUC,KAAKC,SACfF,iBAAiBK,GACb,OAAO,IAAIR,EAAwBI,MAEvCD,IAAIM,GACA,OAAOL,KAAKC,MAAMI,GAEtBN,IAAIM,EAAKC,EAAMC,GACX,SAAKA,GAAaP,KAAKC,MAAMO,eAAeH,MAG5CL,KAAKC,MAAMI,GAAOC,GACX,GAEXP,IAAIM,UACOL,KAAKC,MAAMI,UAOpBH,UAA2BL,EAC7BE,cACIU,OAAQR,MAAO,IAAIH,IAKvBC,cAAcW,EAASC,GACnBA,EAAG,KAAM,IAAIT,IAQrB,OALAA,EAAmBC,KAAO,WAC1BD,EAAmBU,WAEnBV,EAAmBJ,cAAgBA,EAE5BI","file":"../../backend/InMemory.js","sourcesContent":["define(['../generic/key_value_filesystem'], function (key_value_filesystem) {\n    'use strict';\n\n    const { SimpleSyncRWTransaction, SyncKeyValueFileSystem } = key_value_filesystem;\n    /**\n     * A simple in-memory key-value store backed by a JavaScript object.\n     */\n    class InMemoryStore {\n        constructor() {\n            this.store = {};\n        }\n        name() { return InMemoryFileSystem.Name; }\n        clear() { this.store = {}; }\n        beginTransaction(type) {\n            return new SimpleSyncRWTransaction(this);\n        }\n        get(key) {\n            return this.store[key];\n        }\n        put(key, data, overwrite) {\n            if (!overwrite && this.store.hasOwnProperty(key)) {\n                return false;\n            }\n            this.store[key] = data;\n            return true;\n        }\n        del(key) {\n            delete this.store[key];\n        }\n    }\n    /**\n     * A simple in-memory file system backed by an InMemoryStore.\n     * Files are not persisted across page loads.\n     */\n    class InMemoryFileSystem extends SyncKeyValueFileSystem {\n        constructor() {\n            super({ store: new InMemoryStore() });\n        }\n        /**\n         * Creates an InMemoryFileSystem instance.\n         */\n        static Create(options, cb) {\n            cb(null, new InMemoryFileSystem());\n        }\n    }\n    InMemoryFileSystem.Name = \"InMemory\";\n    InMemoryFileSystem.Options = {};\n\n    InMemoryFileSystem.InMemoryStore = InMemoryStore;\n\n    return InMemoryFileSystem;\n});"]}